{"version":3,"sources":["services/services.js","components/Form.js","components/Delete.js","components/ListOfPeople.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","peopleServices","getAll","axios","get","then","response","data","create","newObject","post","deleteNote","id","delete","update","put","Form","addName","handleName","newName","newNumber","handleNumber","handleFilter","filter","onSubmit","value","onChange","type","Delete","setPeople","people","setErrorMessage","onClick","event","window","confirm","name","catch","error","setTimeout","List","length","map","number","Notification","message","errorMessage","style","color","background","fontsize","borderstyle","borderradius","padding","marginbottom","App","useState","useEffect","initialData","setName","setNumber","setFilter","setMessage","filteredSearch","toLowerCase","includes","target","preventDefault","nameObject","JSON","stringify","person","find","n","changedPerson","err","console","log","concat","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.6d748376.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteNote = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return  request.then(response => response.data)\r\n}\r\n\r\nconst peopleServices = {\r\n    getAll,\r\n    create,\r\n    deleteNote,\r\n    update\r\n}\r\n\r\nexport default  peopleServices","const Form = ({addName,handleName,newName,newNumber,handleNumber,handleFilter, filter}) => {\r\n\r\n    return(\r\n        <form onSubmit={addName} >\r\n            <div>\r\n                Filter shown with: <input\r\n                value = {filter}\r\n                onChange= {handleFilter}\r\n            />\r\n            </div>\r\n            <div>\r\n                Name: <input\r\n                value = {newName}\r\n                onChange = {handleName}\r\n            />\r\n            </div>\r\n            <div>\r\n                Number: <input\r\n                value = {newNumber}\r\n                onChange = {handleNumber}\r\n            />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default Form","import peopleServices from '../services/services'\r\nconst Delete = ({value, setPeople, people, setErrorMessage}) => {\r\n    const handleDelete = (event) => {\r\n        let windows = window.confirm(`Do you wanna remove ${value.name}? `)\r\n        if(windows){\r\n            peopleServices\r\n                .deleteNote(value.id)\r\n                .catch(error => {\r\n                    setErrorMessage(`${value.name} is already been removed from server`)\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                    },3000)\r\n                })\r\n                .then(response =>{\r\n                    setPeople(people.filter((name) => name.id !== value.id))\r\n                })\r\n            setErrorMessage(`${value.name} is been removed from server`)\r\n            setTimeout(() => {\r\n                setErrorMessage(null)\r\n            }, 3000)\r\n        }\r\n    }\r\n    return (\r\n        <button onClick={handleDelete}>Delete</button>\r\n    )\r\n}\r\nexport default Delete","import Delete from \"./Delete\";\r\nconst List = ({people, filter,setPeople, setErrorMessage}) => {\r\n    if(filter.length !== 0){\r\n        return (\r\n            <ul>{filter.map(name => <li key={name.id}>{name.name} {name.number} <Delete value={name} setPeople={setPeople} people={people} setErrorMessage={setErrorMessage}/> </li>)}</ul>\r\n        )\r\n    }\r\n    else if(filter.length === 0){\r\n        return(\r\n            <p>Contact not found</p>\r\n        )\r\n    }\r\n    else{\r\n        return (\r\n            <ul>{people.map(name => <li key={name.id}>{name.name} {name.number} <Delete value={name} setPeople={setPeople} people={people} setErrorMessage={setErrorMessage}/> </li>)}</ul>\r\n        )\r\n    }\r\n}\r\nexport default List","const Notification = ({message, errorMessage}) => {\r\n    const style = {\r\n        color: 'green',\r\n        background: 'white',\r\n        fontsize: 20,\r\n        borderstyle: 'solid',\r\n        borderradius: 5,\r\n        padding: 10,\r\n        marginbottom: 10\r\n    }\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'white',\r\n        fontsize: 20,\r\n        borderstyle: 'solid',\r\n        borderradius: 5,\r\n        padding: 10,\r\n        marginbottom: 10\r\n    }\r\n    if (message === null && errorMessage === null){\r\n        return null\r\n    }else if(errorMessage != null){\r\n        return (\r\n            <div style={errorStyle}>\r\n                {errorMessage}\r\n            </div>\r\n        )\r\n    }else if(message != null){\r\n        return (\r\n            <div style={style}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default Notification\r\n\r\n\r\n","import {useEffect, useState} from \"react\";\nimport peopleServices from './services/services'\nimport Form from \"./components/Form\";\nimport List from \"./components/ListOfPeople\";\nimport Notification from \"./components/Notification\";\n\nconst App= () => {\n    const [people, setPeople] = useState([])\n    useEffect(() => {\n        peopleServices\n            .getAll()\n            .then(initialData => {\n                setPeople(initialData)\n            })\n    },[])\n    const [newName, setName] = useState('')\n    const [number, setNumber] = useState('')\n    const [filter, setFilter] = useState('')\n    const [message, setMessage] = useState(null)\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    const handleName = (event) => {\n        setName(event.target.value)\n    }\n    const handleNumber = (event) => {\n        setNumber(event.target.value)\n    }\n    const handleFilter = (event) => {\n        setFilter(event.target.value)\n    }\n\n    const addName = (event) => {\n        event.preventDefault()\n        const nameObject = {\n            name: newName,\n            number : number,\n        }\n        const stringPersons = people.map(value => JSON.stringify(value.name))\n\n        if(stringPersons.includes(JSON.stringify(nameObject.name))){\n            let windows = window.confirm(`${nameObject.name} is already added to phonebook, replace the old number with a new one?`)\n            if(windows) {\n                const person = people.find(n => n.name === nameObject.name)\n                const changedPerson = {...person, number: nameObject.number}\n                peopleServices\n                    .update(person.id, changedPerson)\n                    .then(response => {\n                        setPeople(people.map(n => n.id !== person.id ? n: changedPerson))\n                    })\n                    .catch(err => {\n                        setErrorMessage(err.response.data.error)\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        },3000)\n                        console.log(err.response.data.error)\n                    })\n                setMessage(`${nameObject.name} is been added`)\n                setTimeout(() => {\n                    setMessage(null)\n                },3000)\n            }\n\n        }else {\n            peopleServices\n                .create(nameObject)\n                .then(response => {\n                    setPeople(people.concat(response))\n                    setName('')\n                    setNumber('')\n                })\n                .catch(err => {\n                    setErrorMessage(err.response.data.error)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    },3000)\n                    console.log(err.response.data.error)\n                })\n            setMessage(`${nameObject.name} is been added`)\n            setTimeout(() => {\n                setMessage(null)\n            },3000)\n\n\n        }\n\n\n    }\n    const filteredSearch = people.filter(value => {\n        if(value.name.toLowerCase().includes(filter.toLowerCase())){\n            return value\n        }\n        return false\n    })\n\n\n    return (\n        <div>\n            <Notification errorMessage={errorMessage} message={message}/>\n            <Form handleName={handleName} handleNumber={handleNumber}  handleFilter={handleFilter} filter={filter} newName={newName} newNumber={number} addName={addName}/>\n            <List filter={filteredSearch} people={people} setPeople={setPeople} setErrorMessage={setErrorMessage}/>\n        </div>\n    )\n}\n\n\n\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}